(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{305:function(e,t,a){e.exports=a(461)},310:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){e.exports=a.p+"static/media/harmoni_logo_small.fb264d9e.png"},461:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),i=a.n(o),l=(a(310),a(25)),c=a(22),s=a(9),u=a(60),m=a(172),d=a(14),p=a(23),f=a(510),h=a(194),v=a(154),g=a(48),E=a(197),b=a.n(E),y=a(201),w=a.n(y),k=a(198),O=a.n(k),j=a(273),C=a.n(j),x=a(515),S=a(530),T=a(113),I=a(533),D=a(150),_=a(216),N=a(536),P=a(514),R=a(513),B=a(473),F=a(217),z=a(173),M=a(267),A=a.n(M),W=a(271),L=a.n(W),U=a(272),q=a.n(U),V=function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var r=a[n];" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return""},H=a(37),G=Object(u.a)((function(e){var t;return Object(m.a)({root:{},navbar:Object(l.a)({display:"flex"},e.breakpoints.down("xs"),{flexDirection:"row-reverse"}),backgroundNavbar:{backgroundColor:"rgba(255,255,255,0.9)"},logo:{left:0,position:"absolute"},rightButtons:{position:"absolute",right:0},listButton:Object(l.a)({},e.breakpoints.down("xs"),{display:"none"}),addEventButton:Object(l.a)({backgroundColor:"transparent",borderColor:"transparent"},e.breakpoints.down("xs"),{display:"none"}),profileButton:Object(l.a)({},e.breakpoints.down("xs"),{display:"none"}),mobileMenuButton:(t={color:e.palette.common.black,display:"none"},Object(l.a)(t,e.breakpoints.down("xs"),{display:"block"}),Object(l.a)(t,"&:hover",{color:Object(d.c)(e.palette.common.black,.7)}),t),drawer:{width:240,variant:"persistent"},drawerHeader:Object(c.a)({display:"flex",alignItems:"center"},e.mixins.toolbar,{justifyContent:"flex-start"}),drawerHome:{position:"absolute",right:0},drawPaper:{width:240},drawerProfile:{width:240,position:"absolute",bottom:0},profile_menu:{marginTop:"45px"}})}));function X(e){var t=G(),a=r.a.useState(null),n=Object(s.a)(a,2),o=n[0],i=n[1],l=r.a.useState(!1),c=Object(s.a)(l,2),u=c[0],m=c[1],d=Object(p.a)(),E=function(){i(null)},y=function(){m(!1)};return r.a.createElement("div",{className:t.root},r.a.createElement(f.a,{className:t.backgroundNavbar,position:"fixed"},r.a.createElement(h.a,{className:t.navbar},r.a.createElement(v.a,{onClick:function(){m(!0)},className:t.mobileMenuButton},r.a.createElement(A.a,null)),r.a.createElement(T.a,{onClick:function(){window.location.hash="#/"},className:t.logo},r.a.createElement(g.a,{style:{fontFamily:"Roboto",fontSize:"21pt",fontWeight:200}},"HARMONI")),r.a.createElement(S.a,{className:t.rightButtons},r.a.createElement(z.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(z.a,{item:!0},r.a.createElement(T.a,{onClick:function(){return window.location.hash="#/event"},className:t.listButton},r.a.createElement(b.a,null),r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250,marginLeft:5}},"All Events"))),(3===e.user.roleID||4===e.user.roleID)&&r.a.createElement("div",null,r.a.createElement(z.a,{item:!0},r.a.createElement(T.a,{onClick:function(){return window.location.hash="#/addEvent"},className:t.addEventButton},r.a.createElement(O.a,null),r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250,marginLeft:5}},"Add Event")))),r.a.createElement(z.a,{item:!0},r.a.createElement(S.a,{className:t.profileButton},e.loggedIn?r.a.createElement("div",null,r.a.createElement(T.a,{onClick:function(e){i(e.currentTarget)}},r.a.createElement(I.a,{alt:"Profile",src:e.user.pic_url}),r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250,marginLeft:5}},e.user.username)),r.a.createElement(D.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,className:t.profile_menu,open:Boolean(o),onClose:function(){i(null)}},r.a.createElement(H.b,{style:{textDecoration:"none",color:"black"},to:"/profile"},r.a.createElement(_.a,{onClick:function(){E(),e.setPage(0)}},r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250}},"Profile"))),r.a.createElement(H.b,{style:{textDecoration:"none",color:"black"},to:"/profile"},r.a.createElement(_.a,{onClick:function(){E(),e.setPage(1)}},r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250}},"My Events"))),r.a.createElement(_.a,{onClick:function(){i(null),document.cookie="token="+V("token")+"; expires="+(new Date).toUTCString(),e.logFunc(!1),window.location.hash="#/"}},r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250}},"Logout")))):r.a.createElement(T.a,{onClick:function(){return window.location.hash="#/login"}},r.a.createElement(w.a,null),r.a.createElement("div",{style:{fontFamily:"Roboto",fontSize:"11pt",fontWeight:250,marginLeft:5}},"Login")))))))),r.a.createElement(N.a,{className:t.drawer,classes:{paper:t.drawPaper},onClose:y,open:u,anchor:"right"},r.a.createElement(S.a,{className:t.drawerHeader},r.a.createElement(v.a,{onClick:y},"rtl"===d.direction?r.a.createElement(L.a,null):r.a.createElement(q.a,null)),r.a.createElement(v.a,{onClick:function(){window.location.hash="#/",y()},className:t.drawerHome},r.a.createElement(C.a,null))),r.a.createElement(P.a,null),r.a.createElement(R.a,null,r.a.createElement(B.a,{button:!0,onClick:function(){window.location.hash="#/event",y()}},r.a.createElement(x.a,null," ",r.a.createElement(b.a,null)," "),r.a.createElement(F.a,null," Show all events ")),(3===e.user.roleID||4===e.user.roleID)&&r.a.createElement(B.a,{button:!0,onClick:function(){window.location.hash="#/addEvent",y()}},r.a.createElement(x.a,null," ",r.a.createElement(O.a,null)," "),r.a.createElement(F.a,null," Add event "))),r.a.createElement(S.a,{className:t.drawerProfile},r.a.createElement(P.a,null),e.loggedIn?r.a.createElement("div",null,r.a.createElement(B.a,{button:!0,onClick:function(){window.location.hash="#/profile",e.setPage(0),y()}},r.a.createElement(x.a,null," ",r.a.createElement(I.a,{alt:"Profile",src:e.user.pic_url})),r.a.createElement(F.a,null," ",e.user.username," ")),r.a.createElement(B.a,{button:!0,onClick:function(){y(),document.cookie="token="+V("token")+"; expires="+(new Date).toUTCString(),e.logFunc(!1),window.location.hash="#/"}},r.a.createElement(F.a,null," Logout "))):r.a.createElement(B.a,{button:!0,onClick:function(){window.location.hash="#/login",y()}},r.a.createElement(x.a,null," ",r.a.createElement(w.a,null)," "),r.a.createElement(F.a,null," Login ")))))}var Y=a(534),Q=a(520),K=a(531),$=a(516),J=Object(u.a)({card:{borderRadius:0,minWidth:200,minHeight:100,maxWidth:1e3,marginRight:"auto",marginLeft:"auto"}});function Z(e){var t=J();return r.a.createElement($.a,{className:t.card,elevation:10,style:e.style},e.children)}var ee=a(517),te=a(164),ae=a(24),ne=a(181),re=a(149),oe=Object(u.a)((function(e){return Object(m.a)({datePicker:{width:"100%",marginTop:"20px"},textFieldS:{width:"100%",marginTop:"20px"},textFieldL:{width:"100%",marginTop:"20px"},grid:{marginTop:"20px"},file:{fontSize:"1.2vw"},header:{marginTop:"20px"}})}));function ie(e){var t=oe(),a=r.a.useState(null),n=Object(s.a)(a,2),o=n[0],i=n[1],l=function(){i(null)};return r.a.createElement(Z,{style:{width:"100%"}},r.a.createElement(ee.a,null,r.a.createElement(ae.a,{utils:re.default},r.a.createElement(z.a,{container:!0,spacing:2,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12,sm:6},r.a.createElement(te.a,{className:t.textFieldS,name:"name",label:"Name",type:"text",id:"outlined-multiline",variant:"outlined",value:e.values.name,onChange:e.handleChange}),r.a.createElement(te.a,{className:t.textFieldS,name:"location",label:"Location",type:"text",id:"outlined-multiline",variant:"outlined",value:e.values.location,onChange:e.handleChange})),r.a.createElement(z.a,{container:!0,item:!0,xs:12,sm:6,spacing:4,style:{marginTop:"0.8%"},direction:"column"},r.a.createElement(z.a,{item:!0},r.a.createElement(ne.b,{name:"eventStart",variant:"inline",ampm:!1,label:"Event starts",value:e.values.eventStart,onChange:function(t){return e.handleChange(t,"eventStart")},onError:console.log,disablePast:!0,format:"dd/MM/yyyy HH:mm",autoOk:!0})),r.a.createElement(z.a,{item:!0},r.a.createElement(ne.b,{variant:"inline",ampm:!1,label:"Event ends",value:e.values.eventEnd,onChange:function(t){return e.handleChange(t,"eventEnd")},onError:console.log,disablePast:!0,format:"dd/MM/yyyy HH:mm",autoOk:!0})))),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(te.a,{className:t.textFieldL,name:"description",value:e.values.description,onChange:e.handleChange,id:"outlined-multiline",label:"Description",multiline:!0,rows:"4",variant:"outlined"})),r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(te.a,{className:t.textFieldL,name:"personnel",value:e.values.personnel,onChange:e.handleChange,id:"outlined-multiline",label:"Personnel",multiline:!0,rows:"4",variant:"outlined"})),r.a.createElement(z.a,{className:t.grid,container:!0,spacing:2,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12,md:12},r.a.createElement(g.a,{variant:"h6",gutterBottom:!0},"Event header")),r.a.createElement(z.a,{item:!0,xs:12,md:4},r.a.createElement(te.a,{className:t.file,name:"eventImage",type:"file",variant:"outlined",id:"outlined-multiline",onChange:function(t){return e.handleChange(t.target.files[0],"eventImage")}}),r.a.createElement(g.a,{className:t.header,variant:"subtitle1",gutterBottom:!0},"Selected header: ",e.values.eventImage.name)),r.a.createElement(z.a,{item:!0,xs:12,md:4},r.a.createElement(te.a,{style:{width:"100%"},name:"volunteers",label:"Volunteers",type:"number",id:"outlined-multiline",variant:"outlined",value:e.values.volunteers,onChange:e.handleChange})),r.a.createElement(z.a,{item:!0,xs:12,md:4,justify:"center"},r.a.createElement(T.a,{style:{width:"100%",height:"56px"},"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},variant:"outlined",size:"large"},0===e.values.eventTypeId||void 0===e.eventTypes?"Event Type":e.eventTypes.map((function(t){return e.values.eventTypeId===t.id?t.event_type:null}))),r.a.createElement(D.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:l},e.eventTypes.map((function(t,a){return r.a.createElement(_.a,{onClick:function(a){l(),e.handleChange(t.id,"eventTypeId")},key:a},t.event_type)}))))))))}var le=a(3),ce=a(224),se=a(225),ue=a(223),me=a(519),de=a(221),pe=a(263),fe=a(222),he=a(262),ve=a(111),ge=a(260);function Ee(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}var be=[{id:"name",numeric:!1,disablePadding:!0,label:"Artists"},{id:"email",numeric:!0,disablePadding:!1,label:"Email"}];function ye(e){var t=e.classes,a=e.onSelectAllClick,n=e.order,o=e.orderBy,i=e.numSelected,l=e.rowCount,c=e.onRequestSort;return r.a.createElement(de.a,null,r.a.createElement(fe.a,null,r.a.createElement(ue.a,{padding:"checkbox"},r.a.createElement(ge.a,{indeterminate:i>0&&i<l,checked:i===l,onChange:a,inputProps:{"aria-label":"select all desserts"}})),be.map((function(e){return r.a.createElement(ue.a,{key:e.id,padding:e.disablePadding?"none":"default",sortDirection:o===e.id&&n},r.a.createElement(he.a,{active:o===e.id,direction:o===e.id?n:"asc",onClick:(a=e.id,function(e){c(e,a)})},e.label,o===e.id?r.a.createElement("span",{className:t.visuallyHidden},"desc"===n?"sorted descending":"sorted ascending"):null));var a}))))}var we=Object(u.a)((function(e){return Object(m.a)({root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(d.e)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}})})),ke=function(e){var t=we(),a=e.numSelected;return r.a.createElement(h.a,{className:Object(le.default)(t.root,Object(l.a)({},t.highlight,a>0))},a>0?r.a.createElement(g.a,{className:t.title,color:"inherit",variant:"subtitle1"},a," artists selected"):r.a.createElement(g.a,{className:t.title,variant:"h6",id:"tableTitle"},"Choose artists"))},Oe=Object(u.a)((function(e){return Object(m.a)({root:{width:"100%"},paper:{marginBottom:e.spacing(2)},table:{minWidth:600},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}})}));function je(e){var t=Oe(),a=r.a.useState("asc"),n=Object(s.a)(a,2),o=n[0],i=n[1],l=r.a.useState("name"),c=Object(s.a)(l,2),u=c[0],m=c[1],d=r.a.useState(0),p=Object(s.a)(d,2),f=p[0],h=p[1],v=r.a.useState(5),g=Object(s.a)(v,2),E=g[0],b=g[1],y=E-Math.min(E,e.values.artists.length-f*E),w=e.values.artists.filter((function(e){return!0===e.checked})).length;return r.a.createElement("div",{className:t.root},r.a.createElement(Z,{width:"100%"},r.a.createElement(ke,{numSelected:w}),r.a.createElement(me.a,{component:ve.a},r.a.createElement(ce.a,{className:t.table,size:"small"},r.a.createElement(ye,{classes:t,numSelected:w,order:o,orderBy:u,onSelectAllClick:function(t){t.target.checked?(e.values.artists.map((function(e){return e.checked=!0,null})),e.handleChange(e.values.artists,"artists")):(e.values.artists.map((function(e){return e.checked=!1,null})),e.handleChange(e.values.artists,"artists"))},onRequestSort:function(e,t){i(u===t&&"asc"===o?"desc":"asc"),m(t)},rowCount:e.values.artists.length}),r.a.createElement(se.a,null,function(e,t){var a=e.map((function(e,t){return[e,t]}));return a.sort((function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]})),a.map((function(e){return e[0]}))}(e.values.artists,function(e,t){return"desc"===e?function(e,a){return Ee(e,a,t)}:function(e,a){return-Ee(e,a,t)}}(o,u)).slice(f*E,f*E+E).map((function(t,a){var n=t.checked;return r.a.createElement(fe.a,{hover:!0,onClick:function(a){return function(t,a){var n=e.values.artists.find((function(e){return e.id===a})).checked;e.values.artists.find((function(e){return e.id===a})).checked=!n,e.handleChange(e.values.artists,"artists")}(0,t.id)},role:"checkbox","aria-checked":n,tabIndex:-1,key:a,selected:n},r.a.createElement(ue.a,{padding:"checkbox"},r.a.createElement(ge.a,{checked:n})),r.a.createElement(ue.a,{component:"th",scope:"row",padding:"none"},t.name),r.a.createElement(ue.a,null,t.email))})),y>0&&r.a.createElement(fe.a,{style:{height:53*y}},r.a.createElement(ue.a,{colSpan:6}))))),r.a.createElement(pe.a,{rowsPerPageOptions:[5,10,25],component:"div",count:e.values.artists.length,rowsPerPage:E,page:f,onChangePage:function(e,t){h(t)},onChangeRowsPerPage:function(e){b(parseInt(e.target.value,10)),h(0)}})))}var Ce=a(170),xe=a(99),Se=a.n(xe);function Te(e){return r.a.createElement(Z,{width:"100%"},r.a.createElement(Se.a,{title:"Tickets",columns:[{title:"Name",field:"ticket_name"},{title:"Price",field:"price",type:"numeric"},{title:"Quantity",field:"ticket_amount",type:"numeric"},{title:"Release Date",field:"date_start",type:"datetime"},{title:"End date",field:"date_end",type:"datetime"}],data:e.tickets,editable:{onRowAdd:function(t){return new Promise((function(a){setTimeout((function(){a();var n=Object(Ce.a)(e.tickets);n.push(t),e.handleChange(n,"tickets")}),600)}))},onRowUpdate:function(t,a){return new Promise((function(n){setTimeout((function(){if(n(),a){var r=Object(Ce.a)(e.tickets);r[r.indexOf(a)]=t,e.handleChange(r,"tickets")}}),600)}))},onRowDelete:function(t){return new Promise((function(a){setTimeout((function(){a();var n=Object(Ce.a)(e.tickets);n.splice(n.indexOf(t),1),e.handleChange(n,"tickets")}),600)}))}}}))}var Ie=a(218),De=a(261),_e=a(219),Ne=a(259),Pe=a(265),Re=Object(u.a)((function(e){return Object(m.a)({card:{width:"100%",marginBottom:"20px"},formControl:{margin:e.spacing(1),minWidth:200,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}},grid:{margin:"5px"}})})),Be={PaperProps:{style:{maxHeight:224,width:250}}};function Fe(e){return r.a.createElement("div",null,e.values.artists.filter((function(e){return!0===e.checked})).map((function(t,a){return r.a.createElement(Me,{key:a,artistName:t.name,artistID:t.id,riderTypes:e.riderTypes,riders:e.values.riders,handleChange:e.handleChange})})))}function ze(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function Me(e){var t=Re(),a=Object(p.a)(),o=Object(n.useState)([]),i=Object(s.a)(o,2),l=i[0],c=i[1],u=Object(n.useState)(""),m=Object(s.a)(u,2),d=m[0],f=m[1];Object(n.useEffect)((function(){var t=[],a=e.riders.filter((function(t){return t.userID===e.artistID})),n=a.find((function(e){return 1===e.rider_typeID}));void 0!==n&&f(n.additions),a.map((function(a){return t.push(e.riderTypes.find((function(e){return e.id===a.rider_typeID})).description)})),c(t)}),[e.artistID,e.riderTypes,e.riders]);return r.a.createElement(Z,{className:t.card},r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,spacing:2,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12,sm:12,md:3,className:t.grid},r.a.createElement(g.a,{variant:"h6",gutterBottom:!0},e.artistName)),r.a.createElement(z.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(_e.a,{className:t.formControl},r.a.createElement(De.a,{id:"demo-mutiple-chip-label"},"Riders"),r.a.createElement(Ne.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:l,onChange:function(t){c(t.target.value);var a=e.riders.filter((function(t){return t.userID!==e.artistID}));t.target.value.map((function(t){var n=e.riderTypes.find((function(e){return e.description===t})).id;return 1===n?a.push({rider_typeID:n,userID:e.artistID,additions:d}):a.push({rider_typeID:n,userID:e.artistID,additions:""}),null})),e.handleChange(a,"riders")},input:r.a.createElement(Ie.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e,a){return r.a.createElement(Pe.a,{key:a,label:e,className:t.chip})})))},MenuProps:Be},e.riderTypes.map((function(e,t){return r.a.createElement(_.a,{key:t,value:e.description,style:ze(e.description,l,a)},e.description)}))))),r.a.createElement(z.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(te.a,{id:"standard-multiline-flexible",label:"Additions",multiline:!0,rowsMax:"4",value:d,onChange:function(t){f(t.target.value);var a=e.riders.filter((function(t){return 1!==t.rider_typeID||t.userID!==e.artistID}));a.push({rider_typeID:1,userID:e.artistID,additions:t.target.value}),e.handleChange(a,"riders")}}))))))}var Ae=a(29),We=a(30),Le=a(44).default,Ue=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getEvents",value:function(){return Le.get("https://harmoni-api.herokuapp.com/event/").then((function(e){return e.data}))}},{key:"getEventsUnarchived",value:function(){return Le.get("https://harmoni-api.herokuapp.com/eventUnarchived/").then((function(e){return e.data}))}},{key:"getEvent",value:function(e){return Le.get("https://harmoni-api.herokuapp.com/event/"+e).then((function(e){return e.data}))}},{key:"getEventCarousel",value:function(){return Le.get("https://harmoni-api.herokuapp.com/eventcarousel").then((function(e){return e.data}))}},{key:"getEventsByUser",value:function(){return Le.get("https://harmoni-api.herokuapp.com/event/user/all",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getContractsByEvent",value:function(e){return Le.get("https://harmoni-api.herokuapp.com/event/contract/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getArtists",value:function(e){return Le.get("https://harmoni-api.herokuapp.com/event/artist/"+e).then((function(e){return e.data}))}},{key:"postEvent",value:function(e){return Le.post("https://harmoni-api.herokuapp.com/event/",e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"updateEvent",value:function(e,t){return Le.put("https://harmoni-api.herokuapp.com/event/"+t,e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"updateArchiveOne",value:function(e){return Le.put("https://harmoni-api.herokuapp.com/event_archive/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"deleteEvent",value:function(e){return Le.delete("https://harmoni-api.herokuapp.com/event/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getEventVolunteer",value:function(e){return Le.get("https://harmoni-api.herokuapp.com/event/"+e+"/volunteers/").then((function(e){return e.data}))}},{key:"getEventVolunteerAdmin",value:function(e){return Le.get("https://harmoni-api.herokuapp.com/event/"+e+"/volunteers/admin/",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getEventIsVolunteer",value:function(e){return Le.get("https://harmoni-api.herokuapp.com/event/"+e+"/volunteers/signed/",{headers:{token:V("token")}}).then((function(e){return!!e.data}))}},{key:"postEventVolunteer",value:function(e){return Le.post("https://harmoni-api.herokuapp.com/event/"+e+"/volunteers/",{},{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"deleteEventVolunteer",value:function(e){return Le.delete("https://harmoni-api.herokuapp.com/event/"+e+"/volunteers/",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"deleteEventTickets",value:function(e){return Le.delete("https://harmoni-api.herokuapp.com/event/"+e+"/tickets/",{headers:{token:V("token")}}).then((function(e){return e.data}))}}]),e}()),qe=a(44),Ve=a.n(qe),He=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getAllUsers",value:function(){return Ve.a.get("https://harmoni-api.herokuapp.com/user/",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getOneUser",value:function(){return Ve.a.get("https://harmoni-api.herokuapp.com/user/"+V("token")).then((function(e){return e.data}))}},{key:"postOneUser",value:function(e){return Ve.a.post("https://harmoni-api.herokuapp.com/user/",e).then((function(e){return e.data}))}},{key:"updateOneUser",value:function(e,t){return Ve.a.put("https://harmoni-api.herokuapp.com/user/"+e,t,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getArtist",value:function(){return Ve.a.get("https://harmoni-api.herokuapp.com/artist/").then((function(e){return e.data}))}}]),e}()),Ge=a(44).default,Xe=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getRider_Types",value:function(){return Ge.get("https://harmoni-api.herokuapp.com/rider_type/",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getRider_Type",value:function(e){return Ge.get("https://harmoni-api.herokuapp.com/rider_type/"+e).then((function(e){return e.data}))}}]),e}()),Ye=a(44),Qe="https://harmoni-api.herokuapp.com",Ke=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"postProfilePicture",value:function(e){var t=new FormData;return t.append("image",e),Ye.post(Qe+"/image/profile/",t,{headers:{token:V("token"),"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},{key:"postContracts",value:function(e,t,a){var n=new FormData;return n.append("contract",e),Ye.put(Qe+"/files/contract/user/"+t+"/event/"+a,n,{headers:{token:V("token"),"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}},{key:"postEventPicture",value:function(e,t){var a=new FormData;return a.append("image",e),Ye.post(Qe+"/image/event/"+t,a,{headers:{token:V("token"),"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))}}]),e}()),$e=a(44).default,Je=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getEvent_Types",value:function(){return $e.get("https://harmoni-api.herokuapp.com/event_types/",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getEvent_Type",value:function(e){return $e.get("https://harmoni-api.herokuapp.com/event_types"+e).then((function(e){return e.data}))}}]),e}()),Ze=a(44).default,et="https://harmoni-api.herokuapp.com",tt=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getContracts",value:function(){return Ze.get(et+"/contract",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getContract",value:function(e,t){return Ze.get(et+"/contract/user/"+e+"/event/"+t,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getContractsByEvent",value:function(e){return Ze.get(et+"/contract/event/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"postContract",value:function(e){return Ze.post(et+"/contract",e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"deleteContract",value:function(e,t){return Ze.delete(et+"/contract/user/"+e+"/event/"+t,{headers:{token:V("token")}}).then((function(e){return e.data}))}}]),e}()),at=a(44).default,nt=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getRiders",value:function(){return at.get("https://harmoni-api.herokuapp.com/rider/").then((function(e){return e.data}))}},{key:"getEventRiders",value:function(e){return at.get("https://harmoni-api.herokuapp.com/rider/event/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getRidersForArtist",value:function(e,t){return at.get("https://harmoni-api.herokuapp.com/rider/event/"+e+"/user/"+t,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"postRider",value:function(e){return at.post("https://harmoni-api.herokuapp.com/rider/",e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"updateRider",value:function(e,t,a){return at.put("https://harmoni-api.herokuapp.com/rider/rider_type/"+e+"/event/"+t+"/user/",a,{headers:{token:V("token")}}).then((function(e){return e}))}},{key:"deleteRider",value:function(e){return at.delete("https://harmoni-api.herokuapp.com/rider/event/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"deleteRidersForArtist",value:function(e,t){return at.delete("https://harmoni-api.herokuapp.com/rider/event/"+e+"/user/"+t,{headers:{token:V("token")}}).then((function(e){return e.data}))}}]),e}()),rt=a(44).default,ot=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getTickets",value:function(){return rt.get("https://harmoni-api.herokuapp.com/ticket/",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getTicket",value:function(e){return rt.get("https://harmoni-api.herokuapp.com/ticket/"+e).then((function(e){return e.data}))}},{key:"getEventTickets",value:function(e){return rt.get("https://harmoni-api.herokuapp.com/ticket/event/"+e).then((function(e){return e.data}))}},{key:"postTicket",value:function(e){return rt.post("https://harmoni-api.herokuapp.com/ticket/",e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"updateTicket",value:function(e,t){return rt.put("https://harmoni-api.herokuapp.com/ticket/"+t,e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"deleteTicket",value:function(e){return rt.delete("https://harmoni-api.herokuapp.com/ticket/"+e).then((function(e){return console.log(e)}))}}]),e}()),it=a(53),lt=Object(u.a)((function(e){return Object(m.a)({root:{width:"100%"},backButton:{marginRight:e.spacing(1)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}})}));function ct(e){var t=lt(),a=r.a.useState(0),o=Object(s.a)(a,2),i=o[0],u=o[1],m=["General","Artists","Tickets","Rider"],d=Object(it.useSnackbar)(),p=Object(n.useState)([]),f=Object(s.a)(p,2),h=f[0],v=f[1],E=Object(n.useState)(!1),b=Object(s.a)(E,2),y=b[0],w=b[1],k=Object(n.useState)([]),O=Object(s.a)(k,2),j=O[0],C=O[1],x=Object(n.useState)([]),S=Object(s.a)(x,2),I=S[0],D=S[1],_=Object(n.useState)({editGeneral:!1,editEventImage:!1,editArtists:!1,editTicket:!1,editRiders:!1}),N=Object(s.a)(_,2),P=N[0],R=N[1],B=Object(n.useState)({name:"",description:"",location:"",eventStart:new Date,eventEnd:new Date,personnel:"",volunteers:0,eventImage:new File(["foo"],""),eventTypeId:0,artists:[],riders:[],tickets:[]}),F=Object(s.a)(B,2),M=F[0],A=F[1];Object(n.useEffect)((function(){Je.getEvent_Types().then((function(e){v(e)})),Xe.getRider_Types().then((function(e){C(e)})),He.getArtist().then((function(t){t.map((function(e){return M.artists.push({id:e.id,name:e.username,email:e.email,checked:!1,contractFile:null}),null})),e.edit&&(Ue.getContractsByEvent(e.match.params.id).then((function(e){var t=[];e.map((function(e){return M.artists.map((function(a){return e.userID===a.id&&(a.checked=!0,t.push(a)),null})),null})),D(t)})),ot.getEventTickets(e.match.params.id).then((function(e){A((function(t){return Object(c.a)({},t,{tickets:e})}))})))}))}),[e.edit,e.match.params.id,M.artists]),Object(n.useEffect)((function(){e.edit&&nt.getEventRiders(e.match.params.id).then((function(e){A((function(t){return Object(c.a)({},t,{riders:e})})),w((function(e){return!e}))}))}),[I,e.edit,e.match.params.id]),Object(n.useEffect)((function(){e.edit&&Ue.getEvent(e.match.params.id).then((function(e){A((function(t){return Object(c.a)({},t,{name:e.event_name,description:e.description,location:e.location,eventStart:new Date(e.event_start),eventEnd:new Date(e.event_end),personnel:e.personnel,volunteers:e.volunteers,eventTypeId:e.event_typeID,eventImage:new File(["foo"],e.event_image)})}))}))}),[y,e.edit,e.match.params.id]);function W(e){var t=""+(e.getMonth()+1),a=""+e.getDate(),n=e.getFullYear(),r=""+e.getHours(),o=""+e.getMinutes();return t.length<2&&(t="0"+t),a.length<2&&(a="0"+a),[n,t,a].join("-")+" "+[r,o].join(":")}var L=function(){var t=[];M.artists.filter((function(e){return!0===e.checked})).map((function(e){return t.push(e.id),null}));var a=[];M.riders.map((function(e){return t.includes(e.userID)&&a.push(e),null}));var n={event_name:M.name,location:M.location,event_start:W(M.eventStart),event_end:W(M.eventEnd),personnel:M.personnel,volunteers:M.volunteers,description:M.description,event_typeID:M.eventTypeId,artists:t,riders:a,tickets:M.tickets};e.edit?(P.editGeneral&&Ue.updateEvent({event_name:M.name,location:M.location,event_start:W(M.eventStart),event_end:W(M.eventEnd),personnel:M.personnel,volunteers:M.volunteers,description:M.description,event_typeID:M.eventTypeId},e.match.params.id).then((function(e){})).catch((function(e){console.log(e)})),P.editEventImage&&setTimeout((function(){Ke.postEventPicture(M.eventImage,e.match.params.id).then((function(){return null})).catch((function(e){return console.log(e)}))}),1e3),P.editTicket&&Ue.deleteEventTickets(e.match.params.id).then((function(){M.tickets.map((function(t){return ot.postTicket(Object(c.a)({},t,{eventID:e.match.params.id})),null}))})),P.editRiders&&nt.deleteRider(e.match.params.id).then((function(t){M.riders.map((function(t){return nt.postRider(Object(c.a)({},t,{eventID:e.match.params.id})).then((function(e){})),null}))})).catch((function(e){return console.log(e)})),P.editArtists&&(I.map((function(t){var a=M.artists.find((function(e){return e.id===t.id}));void 0!==a&&(a.checked||tt.deleteContract(t.id,e.match.params.id).then((function(e){return console.log(e)})));return null})),M.artists.map((function(t){return void 0===I.find((function(e){return e.id===t.id}))&&t.checked&&tt.postContract({contract:null,userID:t.id,eventID:e.match.params.id}),null})))):Ue.postEvent(n).then((function(e){Ke.postEventPicture(M.eventImage,e.id).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))})).catch((function(e){console.log(e)}))};return r.a.createElement("div",{className:t.root},r.a.createElement(Y.a,{activeStep:i,alternativeLabel:!0},m.map((function(e){return r.a.createElement(Q.a,{key:e},r.a.createElement(K.a,null,e))}))),r.a.createElement("div",null,i===m.length?r.a.createElement("div",null,r.a.createElement(g.a,{className:t.instructions},"All steps completed"),r.a.createElement(T.a,{onClick:function(){u(0)}},"Reset")):r.a.createElement("div",null,r.a.createElement(g.a,{className:t.instructions},function(e,t,a,n,o){switch(e){case 0:return r.a.createElement(ie,{values:t,handleChange:a,eventTypes:n});case 1:return r.a.createElement(je,{values:t,handleChange:a});case 2:return r.a.createElement(Te,{tickets:t.tickets,handleChange:a});case 3:return r.a.createElement(Fe,{values:t,handleChange:a,riderTypes:o});default:return"Unknown stepIndex"}}(i,M,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(""===t){var a=e.target,n=a.name,r=a.value;"number"===e.target.type?(r<0&&(r=0),A(Object(c.a)({},M,Object(l.a)({},n,r)))):A(Object(c.a)({},M,Object(l.a)({},n,r)))}else A((function(a){return Object(c.a)({},a,Object(l.a)({},t,e))}));if(""===t){var o=e.target.name;"name"!==o&&"description"!==o&&"location"!==o&&"personnel"!==o&&"volunteers"!==o||R(Object(c.a)({},P,{editGeneral:!0}))}else"artists"===t?R(Object(c.a)({},P,{editArtists:!0})):"tickets"===t?R(Object(c.a)({},P,{editTicket:!0})):"riders"===t?R(Object(c.a)({},P,{editRiders:!0})):"eventImage"===t?R(Object(c.a)({},P,{editEventImage:!0})):"eventStart"!==t&&"eventEnd"!==t||R(Object(c.a)({},P,{editGeneral:!0}))}),h,j)),r.a.createElement("div",null,r.a.createElement(z.a,{container:!0,justify:"center"},r.a.createElement(T.a,{disabled:0===i,onClick:function(){u((function(e){return e-1}))},className:t.backButton},"Back"),i===m.length-1?r.a.createElement(H.b,{to:e.edit?"/event/"+e.match.params.id:"/",style:{textDecoration:"none"}},r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:function(){e.edit?d.showMessage("You updated an event"):d.showMessage("You created a new event"),L()}},i===m.length-1?"Finish":"Next")):r.a.createElement(T.a,{variant:"contained",color:"primary",onClick:i===m.length-1?L:function(){0===i?""===M.name?d.showMessage("Name is required!","Undo",(function(){})):""===M.location?d.showMessage("Location is required!","Undo",(function(){})):""===M.description?d.showMessage("Description is required!","Undo",(function(){})):M.eventStart.getTime()+6e4<(new Date).getTime()?d.showMessage("Start time is in the past","Undo",(function(){})):M.eventStart.getTime()>M.eventEnd.getTime()?d.showMessage("End time is earlier than start time!","Undo",(function(){})):M.eventTypeId<=0?d.showMessage("Event type is required!","Undo",(function(){})):""===M.eventImage.name?d.showMessage("Image is required!","Undo",(function(){})):u((function(e){return e+1})):1===i?u((function(e){return e+1})):2===i?""===M.name?alert("Noen felt er tomme"):u((function(e){return e+1})):3===i&&(""===M.name?alert("Noen felt er tomme"):u((function(e){return e+1})))}},i===m.length-1?"Finish":"Next"))))))}var st=a(195),ut=a(521),mt=Object(u.a)({input:{borderRadius:0,marginBottom:"30px",width:"100%"},notchedOutline:{borderRadius:0},eye:{cursor:"pointer"}});function dt(e){var t=mt();return e.label.includes("Password")?r.a.createElement(pt,Object.assign({label:e.label},e)):r.a.createElement(te.a,Object.assign({className:t.input},e,{variant:"outlined",InputProps:{classes:{notchedOutline:t.notchedOutline}}}))}function pt(e){var t=mt(),a=Object(n.useState)(!0),o=Object(s.a)(a,2),i=o[0],l=o[1];return r.a.createElement(te.a,Object.assign({className:t.input,type:i?"password":"text"},e,{InputProps:{endAdornment:r.a.createElement(st.a,{position:"end"},r.a.createElement(ut.a,{className:t.eye,onClick:function(){l(!i)}})),classes:{notchedOutline:t.notchedOutline}},variant:"outlined"}))}function ft(e){return r.a.createElement(T.a,Object.assign({},e,{color:"secondary",style:{fontWeight:e.fontWeight}}),e.children)}var ht=function(e,t,a){var r=Object(n.useState)(t),o=Object(s.a)(r,2),i=o[0],u=o[1],m=Object(n.useState)(t),d=Object(s.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)(!1),v=Object(s.a)(h,2),g=v[0],E=v[1];return Object(n.useEffect)((function(){0===Object.keys(p).length&&g&&e()}),[p,e,g]),{handleChange:function(e){var t=e.target,a=t.name,n=t.value;u(Object(c.a)({},i,Object(l.a)({},a,n)))},handleSubmit:function(e){e.preventDefault(),f(a(i)),E(!0)},values:i,errors:p}};function vt(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email is required",e.emailConfirmed?/\S+@\S+\.\S+/.test(e.emailConfirmed)?e.email!==e.emailConfirmed&&(t.email="Emails does not match",t.emailConfirmed="Emails does not match"):t.emailConfirmed="Email address is invalid":t.emailConfirmed="Email is required",e.password||(t.password="Password required"),e.passwordConfirmed?e.password!==e.passwordConfirmed&&(t.password="Passwords does not match",t.passwordConfirmed="Passwords does not match"):t.passwordConfirmed="Password required",e.username||(t.username="Full name required"),e.phone||(t.phone="phone required"),e.phone.length<8&&(t.phone="8 digits required"),e.phone.match(/^(\+[1-9]{1,3})?([ ]{1})?([0-9]{8})$/)||(t.phone="Invalid phonenumber"),t}function gt(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email is required",e.password||(t.password="Password required"),t}function Et(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email is required",t}function bt(e){var t={};return e.password||(t.password="Password required"),e.passwordConfirmed?e.password!==e.passwordConfirmed&&(t.password="Passwords does not match",t.passwordConfirmed="Passwords does not match"):t.passwordConfirmed="Password required",t}var yt=a(44).default,wt=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"changePassword",value:function(e){return yt.put("http://localhost:8080/reset/",e,{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"changePasswordForgot",value:function(e){return yt.put("http://localhost:8080/reset/forgot",e,{headers:{token:e.token}}).then((function(e){return e.data}))}},{key:"getLogin",value:function(e){return yt.put("https://harmoni-api.herokuapp.com/login/",e).then((function(e){return e.data}))}},{key:"signUp",value:function(e){return yt.post("https://harmoni-api.herokuapp.com/signup/",e).then((function(e){return e.data}))}}]),e}()),kt=a(264),Ot=Object(u.a)({grid:{maxWidth:"450px",minWidth:"250px"},title:{marginLeft:"auto",marginRight:"auto",marginBottom:"20px"}});function jt(e){var t=Ot(e),a=ht((function(){var e=i.email.match(/.+@[a-z1-9]+\.[a-z]+/);t=i.phone,t.match(/^(\+[1-9]{1,3})?([ ]{1})?([0-9]{8})$/)&&e&&i.password&&i.username&&wt.signUp({email:i.email.toLowerCase(),password:i.password,username:i.username,phone:i.phone}).then((function(){window.location.hash="#/login",c.showMessage("You have created a user. You can now log in with your username and password","Ok",(function(){}))})).catch((function(e){c.showMessage("Email already exist, try another one","Close",(function(){}))}));var t}),{email:"",emailConfirmed:"",password:"",passwordConfirmed:"",username:"",phone:""},vt),n=a.handleChange,o=a.handleSubmit,i=a.values,l=a.errors,c=Object(it.useSnackbar)();return r.a.createElement(Z,{width:"80%",style:{marginTop:"10%",minWidth:"250px",maxWidth:"450px"}},r.a.createElement(z.a,{container:!0,className:t.grid},r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},r.a.createElement(g.a,{className:t.title,variant:"h3",align:"center"},"Sign up")),r.a.createElement("form",{onSubmit:o,noValidate:!0},r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},l.email&&r.a.createElement(g.a,{color:"error"},l.email),r.a.createElement(dt,{name:"email",label:"Email",type:"text",required:!0,value:i.email,onChange:n})),r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},l.emailConfirmed&&r.a.createElement(g.a,{color:"error"},l.emailConfirmed),r.a.createElement(dt,{name:"emailConfirmed",label:"Confirm email",type:"text",required:!0,value:i.emailConfirmed,onChange:n})),r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},l.password&&r.a.createElement(g.a,{color:"error"},l.password),r.a.createElement(dt,{name:"password",label:"Password",autoComplete:"current-password",value:i.password,onChange:n})),r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},l.passwordConfirmed&&r.a.createElement(g.a,{color:"error"},l.passwordConfirmed),r.a.createElement(dt,{name:"passwordConfirmed",label:"Confirm Password",autoComplete:"current-password",value:i.passwordConfirmed,onChange:n})),r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},l.username&&r.a.createElement(g.a,{color:"error"},l.username),r.a.createElement(dt,{name:"username",label:"Full name",type:"text",required:!0,value:i.username,onChange:n}),l.phone&&r.a.createElement(g.a,{color:"error"},l.phone),r.a.createElement(kt.a,{title:"+XX XXXXXXXX",arrow:!0},r.a.createElement(dt,{style:{width:"100%"},name:"phone",label:"Telephone",type:"numeric",pattern:"[0-9]*",required:!0,value:i.phone,onChange:n}))),r.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(ft,{onClick:function(){return window.location.hash="#/login"}},"Already have a user?"),r.a.createElement(ft,{type:"submit"},"Sign up"))))))}var Ct=Object(u.a)({marginTop:{marginTop:"20px"}});function xt(){var e=Ct();return r.a.createElement("div",{className:e.marginTop},r.a.createElement(jt,null))}var St=Object(u.a)({title:{marginLeft:"auto",marginRight:"auto",marginBottom:"20px"},errormessage:{float:"right"},custom:{minWidth:"250px",maxWidth:"450px",marginTop:"20px",margin:"auto"},cardContent:{width:"400px",marginLeft:"1.5vw"},link:{color:"red",textDecoration:"none"}});function Tt(e){var t=St(),a=ht((function(){if(l.email.match(/.+@[a-z1-9]+\.[a-z]+/)&&l.password){var t=new Date;t.setTime(t.getTime()+36e5),wt.getLogin({email:l.email.toLowerCase(),password:l.password}).then((function(a){document.cookie="token="+a+"; expires="+t.toUTCString(),window.location.hash="#/",e.logFunc(!0)})).catch((function(e){p(!0)}))}}),{email:"",password:""},gt),o=a.handleChange,i=a.handleSubmit,l=a.values,c=a.errors,u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],p=m[1];return r.a.createElement("div",{className:t.custom},r.a.createElement(Z,null,r.a.createElement(z.a,{container:!0,spacing:2},r.a.createElement(z.a,{item:!0,xs:12},r.a.createElement(g.a,{className:t.title,variant:"h3",align:"center"},"Login")),r.a.createElement(ee.a,{className:t.cardContent},r.a.createElement("form",{onSubmit:i,noValidate:!0},c.email&&r.a.createElement(g.a,null,c.email),r.a.createElement(dt,{name:"email",label:"Email",type:"text",value:l.email,onChange:o}),c.password&&r.a.createElement(g.a,null,c.password),r.a.createElement(dt,{name:"password",label:"Password",autoComplete:"current-password",value:l.password,onChange:o}),r.a.createElement("div",null,d?r.a.createElement("h4",{className:t.errormessage},"Invalid email or password"):null),r.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(H.b,{className:t.link,to:"/forgot"},r.a.createElement(ft,null,"Forgot password?")),r.a.createElement(ft,{type:"submit"},"Log in")))))))}var It=a(279),Dt=a.n(It),_t=Object(u.a)({marginTop:{marginTop:"20px"}});function Nt(e){var t=_t();return r.a.createElement("div",null,r.a.createElement(Tt,{logFunc:e.logFunc}),r.a.createElement(Dt.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(ft,{className:t.marginTop,onClick:function(){return window.location.hash="#/signUp"}},"Not a user?")))}var Pt=a(522),Rt=a(280),Bt=a.n(Rt),Ft=a(524),zt=a(525),Mt=a(475),At=a(523),Wt=a(476),Lt=a(477),Ut=a(44).default,qt="https://harmoni-api.herokuapp.com",Vt=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"cancelEventMail",value:function(e){return Ut.post(qt+"/mailer/event/"+e,"",{headers:{token:V("token")}}).then((function(e){return console.log(e)}))}},{key:"forgotMail",value:function(e){return Ut.get(qt+"/mailer/password",{headers:{email:e,path:"https://harmoni-api.herokuapp.com"}}).then((function(e){return console.log(e)}))}},{key:"sendFeedback",value:function(e){return Ut.post(qt+"/mailer/feedback",e,{headers:{token:V("token")}}).then((function(e){return console.log(e)}))}}]),e}());function Ht(){var e=r.a.useState(!1),t=Object(s.a)(e,2),a=t[0],n=t[1],o=ht("",{text:""},vt),i=o.handleChange,l=o.values,c=function(){n(!1)};return r.a.createElement("div",null,r.a.createElement(Pt.a,{align:"center",href:"#",color:"textSecondary",type:"button",onClick:function(){n(!0)}},"Feedback"),r.a.createElement(Mt.a,{open:a,onClose:c,"aria-labelledby":"form-dialog-title"},r.a.createElement(At.a,{style:{width:"40vh"},id:"form-dialog-title"},"Send us your Feedback!"),r.a.createElement(Wt.a,null,r.a.createElement(te.a,{style:{width:"40vh"},autoFocus:!0,fullWidth:!0,required:!0,margin:"dense",id:"name",type:"text",multiline:!0,rows:"4",variant:"outlined",onChange:i})),r.a.createElement(Lt.a,{style:{justifyContent:"center"}},r.a.createElement(T.a,{onClick:function(){Vt.sendFeedback({text:l.text}),n(!1)},color:"primary"},"Send"),r.a.createElement(T.a,{onClick:c,color:"primary"},"Cancel"))))}var Gt=Object(u.a)({root:{maxWidth:"85%",textAlign:"center",margin:"auto",marginTop:"120px",zIndex:9999},icons:{margin:"20px auto"}});function Xt(){var e=Gt();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,{variant:"caption",align:"center",color:"textSecondary"},"\xa9 Harmoni Copyright 2020"),r.a.createElement(P.a,{style:{margin:"20px auto",width:100}}),r.a.createElement(z.a,{container:!0,justify:"center",spacing:1},r.a.createElement(z.a,{item:!0,xs:12,sm:3,md:2},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textSecondary"},"About Harmoni")),r.a.createElement(z.a,{item:!0,xs:12,sm:3,md:2},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textSecondary"},"Site Map")),r.a.createElement(z.a,{item:!0,xs:12,sm:4,md:3},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textSecondary"},"Terms & Conditions")),r.a.createElement(z.a,{item:!0,xs:12,sm:3,md:2},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textSecondary"},"Contact us")),r.a.createElement(z.a,{item:!0,xs:12,sm:3,md:2},r.a.createElement(Ht,null))),r.a.createElement(z.a,{container:!0,justify:"center",spacing:2,className:e.icons},r.a.createElement(z.a,{item:!0,xs:8,sm:4,md:2},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textPrimary"},r.a.createElement(Bt.a,null))),r.a.createElement(z.a,{item:!0,xs:8,sm:4,md:2},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textPrimary"},r.a.createElement(Ft.a,null))),r.a.createElement(z.a,{item:!0,xs:8,sm:4,md:2},r.a.createElement(Pt.a,{align:"center",href:"#",color:"textPrimary"},r.a.createElement(zt.a,null)))))}var Yt=a(478),Qt=a(289),Kt=a(526),$t=Object(u.a)((function(e){return Object(m.a)({title:{fontSize:"24px",padding:"20px"},root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary,width:"100%"},editPic:{fontSize:"12px","&:hover":{cursor:"pointer"}}})}));function Jt(e){var t=$t(),a=r.a.useState(!1),o=Object(s.a)(a,2),i=o[0],u=o[1],m=r.a.useState(!1),d=Object(s.a)(m,2),p=d[0],f=d[1],h=r.a.useState(!1),v=Object(s.a)(h,2),E=v[0],b=v[1],y=r.a.useState(!1),w=Object(s.a)(y,2),k=w[0],O=w[1],j=Object(n.useState)(new File(["foo"],"empty")),C=Object(s.a)(j,2),x=C[0],S=C[1],T=Object(n.useState)({username:e.user.username,email:e.user.email,phone:e.user.phone,picture:e.user.picture,roleID:e.user.roleID}),D=Object(s.a)(T,2),_=D[0],N=D[1],P=Object(n.useState)({old_password:"",new_password:"",confirmed_password:""}),R=Object(s.a)(P,2),B=R[0],F=R[1];var M=Object(it.useSnackbar)(),A=Object(n.useCallback)((function(){N({username:e.user.username,email:e.user.email,phone:e.user.phone,picture:e.user.picture,roleID:e.user.roleID})}),[e.user]),W=function(e){var t=e.target,a=t.name,n=t.value;N(Object(c.a)({},_,Object(l.a)({},a,n)))},L=function(e){var t=e.target,a=t.name,n=t.value;F(Object(c.a)({},B,Object(l.a)({},a,n)))},U=function(){u(!1),A()},q=function(){f(!1),F({old_password:"",new_password:"",confirmed_password:""})},V=function(){b(!1)},H=function(){O(!1)};Object(n.useEffect)((function(){A()}),[i,A]);return r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:0},r.a.createElement(z.a,{item:!0},""!==e.user.pic_url&&r.a.createElement(I.a,{style:{height:"250px",width:"250px"},alt:"Profile Picture",src:e.user.pic_url},"Picture")),r.a.createElement(z.a,{item:!0},r.a.createElement(g.a,null,r.a.createElement(Pt.a,{onClick:function(){b(!0)},color:"inherit",className:t.editPic},"Edit profile picture"))),r.a.createElement(z.a,{item:!0},r.a.createElement(g.a,{style:{fontFamily:"Roboto",fontSize:"26pt",fontWeight:300}},e.user.username)),r.a.createElement(z.a,{item:!0},r.a.createElement(g.a,{style:{fontFamily:"Roboto",fontSize:"15pt",fontWeight:200}},e.user.role)),r.a.createElement(z.a,{item:!0},r.a.createElement(g.a,{style:{fontFamily:"Roboto",fontSize:"15pt",fontWeight:200}},e.user.email)),r.a.createElement(z.a,{item:!0},r.a.createElement(g.a,{style:{fontFamily:"Roboto",fontSize:"15pt",fontWeight:200}},e.user.phone)),r.a.createElement(z.a,{item:!0},r.a.createElement(ft,{onClick:function(){u(!0)}},"Edit"),r.a.createElement(ft,{onClick:function(){f(!0)}},"Change Password"))),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(Mt.a,{open:E,onClose:V,"aria-labelledby":"form-dialog-title",style:{width:"100%"}},r.a.createElement(At.a,{id:"form-dialog-title"},"Edit Profile"),r.a.createElement(Wt.a,null,r.a.createElement(z.a,{container:!0,direction:"row"},r.a.createElement(ft,{variant:"contained",component:"label"},"Choose File",r.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(e){S(e.target.files[0])}})),r.a.createElement(g.a,{style:{marginLeft:"30px"}},"Chosen file: ",x.name))),r.a.createElement(Lt.a,null,r.a.createElement(z.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(z.a,{item:!0,xs:3},r.a.createElement(ft,{onClick:function(){Promise.resolve(Ke.postProfilePicture(x)).then((function(){b(!1),S(new File(["foo"],"")),window.location.reload()}))},color:"primary"},"Upload Image")),r.a.createElement(z.a,{item:!0,xs:3},r.a.createElement(ft,{onClick:V,color:"primary"},"Cancel")))))),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(Mt.a,{open:i,onClose:U,"aria-labelledby":"form-dialog-title",style:{width:"100%"}},r.a.createElement(At.a,{id:"form-dialog-title"},"Edit Profile"),r.a.createElement(Wt.a,null,r.a.createElement(Kt.a,null),r.a.createElement(dt,{autoFocus:!0,name:"username",label:"Name",type:"text",value:_.username,onChange:W}),r.a.createElement(dt,{autoFocus:!0,name:"email",label:"Email",type:"text",value:_.email,onChange:W}),r.a.createElement(dt,{autoFocus:!0,name:"phone",label:"Telephone",type:"text",value:_.phone,onChange:W})),r.a.createElement(Lt.a,null,r.a.createElement(z.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(z.a,{item:!0,xs:3},r.a.createElement(ft,{onClick:function(t){if(_.phone.match(/^(\+[1-9]{1,3})?([ ]{1})?([0-9]{8})$/))if(""===_.username||_.username.length>30)M.showMessage("Name is required or too long");else if(""===_.email)M.showMessage("Email is required");else if(/\S+@\S+\.\S+/.test(_.email)){var a=Object(c.a)({},e.user,{username:_.username,email:_.email,phone:_.phone});e.handleUserChange(a),He.updateOneUser(e.user.id,{username:_.username,email:_.email,phone:_.phone,picture:_.picture,roleID:e.user.roleID}).then((function(e){return e})),u(!1)}else M.showMessage("Email is invalid");else M.showMessage("Telephone number is not valid")},color:"primary"},"Save Profile")),r.a.createElement(z.a,{item:!0,xs:3},r.a.createElement(ft,{onClick:U,color:"primary"},"Cancel")))))),r.a.createElement(z.a,{item:!0,xs:8},r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{item:!0,xs:6},r.a.createElement(Mt.a,{open:p,onClose:q,"aria-labelledby":"form-dialog-title",style:{width:"100%"}},r.a.createElement(At.a,{id:"form-dialog-title"},r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},"Change Password")),r.a.createElement(Wt.a,null,r.a.createElement(Kt.a,null),r.a.createElement(dt,{autoFocus:!0,name:"old_password",label:"Old Password",value:B.old_password,onChange:L}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(dt,{autoFocus:!0,name:"new_password",label:"New Password",value:B.new_password,onChange:L}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",r.a.createElement(dt,{autoFocus:!0,name:"confirmed_password",label:"Confirm New Password",value:B.confirmed_password,onChange:L})),r.a.createElement(Lt.a,null,r.a.createElement(z.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(ft,{color:"primary",onClick:function(e){B.new_password===B.confirmed_password&&""!==B.old_password&&""!==B.new_password&&B.old_password!==B.new_password?wt.changePassword({old_password:B.old_password,new_password:B.new_password}).then((function(){M.showMessage("Your password was successfully changed"),f(!1)})).catch((function(e){M.showMessage("Old password does not match, please try again")})):O(!0)}},"Change"),r.a.createElement(ft,{onClick:q,color:"primary"},"Cancel")))),k&&r.a.createElement(Mt.a,{open:k,onClose:H},r.a.createElement(At.a,null,"An error occurred. Please try again"),r.a.createElement(Wt.a,null,r.a.createElement(Kt.a,null,"Type in your old password and confirm your new password below.")),r.a.createElement(Lt.a,null,r.a.createElement(ft,{color:"primary",onClick:H},"Ok")))))))}function Zt(e){return r.a.createElement(Se.a,{onRowClick:function(e,t){window.location.hash="#/event/"+t.id},title:"Event List",columns:e.state.columns,data:e.state.data})}function ea(e){var t=r.a.useState({columns:[{title:"Name",field:"name"},{title:"Start date",field:"startDate",type:"datetime"},{title:"End date",field:"endDate",type:"datetime"},{title:"Location",field:"location"}],data:[]}),a=Object(s.a)(t,2),o=a[0],i=a[1],l=Object(n.useCallback)((function(e){var t=[];e.map((function(e){return t.push({id:e.id,name:e.event_name,startDate:e.event_start,endDate:e.event_end,location:e.location}),null})),i((function(e){return Object(c.a)({},e,{data:t})}))}),[]);function u(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(n.useEffect)((function(){4!==e.user.roleID?Ue.getEventsByUser().then((function(e){0!==e.length&&l(e)})):Ue.getEvents().then((function(e){0!==e.length&&l(e)}))}),[e.user.roleID,l]),r.a.createElement(Z,null,r.a.createElement(Yt.a,{value:e.page,onChange:function(t,a){e.setPage(a)},indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Qt.a,Object.assign({label:"Profile"},u(0))),r.a.createElement(Qt.a,Object.assign({label:"My Events"},u(1)))),0===e.page?r.a.createElement(Jt,{user:e.user,handleUserChange:e.handleUserChange}):r.a.createElement(Zt,{state:o}))}var ta=a(125),aa=a.n(ta),na=a(281),ra=a.n(na);a(443);function oa(e){return r.a.createElement("div",{onClick:function(){return window.location.hash=e.link}},r.a.createElement("img",{src:e.img,className:"marker",style:{cursor:"pointer"},title:e.name,alt:"Map pin"}),r.a.createElement("div",{className:"pin",style:{cursor:"pointer"}}))}var ia=a(204),la=a.n(ia),ca=function(e){var t=Object(n.useState)({lat:63.4189,lng:10.4027}),o=Object(s.a)(t,2),i=o[0],l=o[1],c=Object(n.useState)([]),u=Object(s.a)(c,2),m=u[0],d=u[1];la.a.setApiKey("AIzaSyBpqnFSmQNK7VBnEm521CwPGs8zBkB-SQY");var p=Object(n.useCallback)((function(e){if(void 0!==e)return la.a.fromAddress(e.location).then((function(e){return e.results[0].geometry.location}),(function(e){console.error(e)}))}),[]);return Object(n.useEffect)((function(){Promise.all(e.events.map((function(e){return aa.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",p(e).then((function(t){if(void 0!==t)return r.a.createElement(oa,{key:e.id,lat:t.lat,lng:t.lng,name:e.event_name,img:a(444),link:"/event/"+e.id})})));case 1:case"end":return t.stop()}}))}))).then((function(e){d(e)}))}),[e.events,p]),Object(n.useEffect)((function(){e.center&&p(e.center).then((function(e){l(e)}))}),[e.center]),r.a.createElement(ra.a,{bootstrapURLKeys:{key:"AIzaSyBpqnFSmQNK7VBnEm521CwPGs8zBkB-SQY"},center:i,defaultZoom:e.zoom,options:{mapTypeControl:!1,zoomControl:!1,fullscreenControl:!1,streetViewControl:!1,styles:[{elementType:"geometry",stylers:[{color:"#f5f5f5"}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{elementType:"labels.text.stroke",stylers:[{color:"#f5f5f5"}]},{featureType:"administrative.land_parcel",elementType:"labels.text.fill",stylers:[{color:"#bdbdbd"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"poi",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.arterial",elementType:"labels.text.fill",stylers:[{color:"#757575"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#dadada"}]},{featureType:"road.highway",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#616161"}]},{featureType:"road.local",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.text.fill",stylers:[{color:"#9e9e9e"}]},{featureType:"transit",stylers:[{visibility:"off"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{color:"#e5e5e5"}]},{featureType:"transit.station",elementType:"geometry",stylers:[{color:"#eeeeee"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c9c9c9"}]},{featureType:"water",elementType:"geometry.fill",stylers:[{color:"#b5b5ff"}]},{featureType:"water",elementType:"labels.text",stylers:[{visibility:"on"}]}]}},m)},sa=a(527),ua=a(6),ma=a(169),da=a.n(ma),pa=a(205),fa=a.n(pa),ha=a(282),va=a.n(ha);function ga(e){var t=r.a.useState(null),a=Object(s.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(0),c=Object(s.a)(l,2),u=c[0],m=c[1],d=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(Mt.a,{open:e.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(At.a,{id:"alert-dialog-title"},"Delete settings"),r.a.createElement(Wt.a,null,r.a.createElement(Kt.a,{id:"alert-dialog-description"},"Do you want to delete, archive or cancel this event?"),r.a.createElement(T.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},1===u?"Delete":2===u?"Archive":3===u?"Cancel event":"Options"),r.a.createElement(D.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:d},r.a.createElement(_.a,{onClick:function(){m(1),d()}},"Delete"),r.a.createElement(_.a,{onClick:function(){m(2),d()}},"Archive"),r.a.createElement(_.a,{onClick:function(){m(3),d()}},"Cancel event"))),r.a.createElement(Lt.a,null,r.a.createElement(T.a,{color:"primary",onClick:function(){return e.handleAlert(!1)}},"Cancel"),r.a.createElement(T.a,{color:"primary",autoFocus:!0,onClick:function(){1===u?Ue.deleteEvent(e.eventID).then((function(){return window.location.hash="#/"})):2===u?Ue.updateArchiveOne(e.eventID):3===u&&Vt.cancelEventMail(e.eventID).then((function(){return window.location.hash="#/"})),e.handleAlert(!1)}},"Submit"))))}var Ea=Object(ua.a)({paper:{border:"1px solid #d3d4d5"}})((function(e){return r.a.createElement(D.a,Object.assign({elevation:0,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},e))})),ba=Object(ua.a)((function(e){return{root:{"&:focus":{backgroundColor:e.palette.primary.main,"& .MuiListItemIcon-root, & .MuiListItemText-primary":{color:e.palette.common.white}}}}}))(_.a);function ya(e){var t=r.a.useState(null),a=Object(s.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)("https://harmoni-api.herokuapp.com/files/contract/user/"+e.user+"/event/"+e.event),u=Object(s.a)(l,1)[0],m=function(e){i(e.currentTarget)},d=function(){i(null)};var p=Object(n.useState)(),f=Object(s.a)(p,2),h=f[0],v=f[1],g=Object(n.useState)(!1),E=Object(s.a)(g,2),b=E[0],y=E[1],w=r.a.useState(!1),k=Object(s.a)(w,2),O=k[0],j=k[1],C=r.a.useState(!1),x=Object(s.a)(C,2),S=x[0],T=x[1],I=Object(n.useState)(!1),D=Object(s.a)(I,2),_=D[0],N=D[1],P=r.a.useState({columns:[{title:"Name",field:"username"},{title:"Phone",field:"phone"},{title:"Email",field:"email"}],data:[]}),R=Object(s.a)(P,2),B=R[0],M=R[1];return Object(n.useEffect)((function(){He.getOneUser().then((function(e){v(e.roleID)}))}),[e.event]),Object(n.useEffect)((function(){1===h&&(Ue.getEventVolunteer(e.event).then((function(e){j(e)})),Ue.getEventIsVolunteer(e.event).then((function(e){T(e)})))}),[e.event,h,e.myContract]),r.a.createElement("div",null,r.a.createElement(z.a,{container:!0},r.a.createElement(z.a,{item:!0,style:{margin:"auto"}},1===h&&(S?r.a.createElement(ft,{style:{fontSize:"15px",width:"80%",backgroundColor:"red",color:"white"},variant:"contained",color:"inherit",onClick:function(){Ue.deleteEventVolunteer(e.event).then((function(e){T(!1)}))}},"QUIT!!"):O?r.a.createElement(ft,{style:{fontSize:"15px",width:"80%"},variant:"contained",color:"primary",onClick:function(){Ue.postEventVolunteer(e.event).then((function(e){T(!0)}))}},"Register"):r.a.createElement(ft,{style:{fontSize:"15px",width:"80%"},variant:"contained",disabled:!0},"Full")),2===h&&r.a.createElement("div",null,r.a.createElement(ft,{"aria-controls":"customized-menu","aria-haspopup":"true",onClick:m},"Settings"),r.a.createElement(Ea,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:d},e.eventConnection?r.a.createElement(ba,{onClick:function(){var t;return aa.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,aa.a.awrap(He.getOneUser().then((function(e){return e.id})));case 2:t=a.sent,window.location.hash="#/artist/editRider/"+e.event+"/user/"+t;case 4:case"end":return a.stop()}}))}},r.a.createElement(sa.a,null,r.a.createElement(fa.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Edit rider"})):r.a.createElement(ba,null,r.a.createElement(F.a,{primary:"No permission"})),!0===e.myContract?r.a.createElement(ba,{onClick:function(){return window.open(u,"_blank")}},r.a.createElement(sa.a,null,r.a.createElement(da.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"See contract"})):null)),3!==h&&4!==h||!(4===h||3===h&&e.eventConnection)?null:r.a.createElement("div",null,r.a.createElement(ft,{"aria-controls":"customized-menu","aria-haspopup":"true",onClick:m},"Settings"),r.a.createElement(Ea,{id:"customized-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:d},r.a.createElement("div",null,r.a.createElement(H.b,{to:"/editEvent/"+e.event,style:{textDecoration:"none",color:"black"}},r.a.createElement(ba,null,r.a.createElement(sa.a,null,r.a.createElement(fa.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Edit"}))),r.a.createElement(ba,{onClick:function(t){return a=e.event,void(window.location.hash="#/contract/event/"+a);var a}},r.a.createElement(sa.a,null,r.a.createElement(da.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"See contract"})),r.a.createElement(ba,{onClick:function(){(3===h&&e.eventConnection||4===h)&&Ue.getEventVolunteerAdmin(e.event).then((function(e){e.count>0&&M((function(t){return Object(c.a)({},t,{data:e.rows})})),N(!0)}))}},r.a.createElement(sa.a,null,r.a.createElement(da.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"See volunteers"})),r.a.createElement(ba,{onClick:function(){return y(!b)}},r.a.createElement(sa.a,null,r.a.createElement(va.a,{fontSize:"small"})),r.a.createElement(F.a,{primary:"Delete"})))),r.a.createElement(ga,{open:b,handleAlert:function(e){y(e)},eventID:e.event})))),r.a.createElement(Mt.a,{open:_,"aria-labelledby":"alert-dialog-volunteer","aria-describedby":"alert-dialog-description",onBackdropClick:function(){N(!1)}},r.a.createElement(Se.a,{title:"Volunteers:",columns:B.columns,data:B.data})))}var wa=a(220),ka=Object(u.a)((function(e){return Object(m.a)({buttons:{margin:"auto"},description:{margin:"10%",marginTop:0,marginBottom:0,fontSize:"15px",wordWrap:"break-word"},title:{textAlign:"center",fontWeight:"bold",fontSize:"5vw"},smallTitle:{textAlign:"center",fontWeight:"bold",fontSize:"20px"},smallText:{textAlign:"center",fontSize:"15px"},card:{width:"100%",marginBottom:"20px",padding:0},table:{minWidth:650},avatarIcons:{display:"flex","& > *":{margin:e.spacing(1)},justifyContent:"center",width:"100%"},image:{marginTop:"-5%",marginBottom:"-15%",width:"100%",maxHeight:"80em"},container:{height:"90vh",width:"100%"},map:Object(l.a)({height:"20vw",width:"100%",position:"relative",marginBottom:"10px"},e.breakpoints.down("xs"),{height:"40vw"}),box:Object(l.a)({borderRight:1},e.breakpoints.down("xs"),{borderRight:0}),loadingIcon:{width:"100%",marginTop:"200px",display:"flex",justifyContent:"center"}})}));function Oa(e){var t=ka(),a=Object(n.useState)(!1),o=Object(s.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)({id:0,event_name:"",event_start:new Date,event_end:new Date,personnel:"",description:"",location:"",event_typeID:0,archived:!1}),u=Object(s.a)(c,2),m=u[0],d=u[1],p=Object(n.useState)([]),f=Object(s.a)(p,2),h=f[0],v=f[1],E=Object(n.useState)([]),b=Object(s.a)(E,2),y=b[0],w=b[1],k=Object(n.useState)(""),O=Object(s.a)(k,2),j=O[0],C=O[1];Object(n.useEffect)((function(){setTimeout((function(){Ue.getEvent(e.match.params.id).then((function(e){d({id:e.id,event_name:e.event_name,event_start:new Date(e.event_start),event_end:new Date(e.event_end),personnel:e.personnel,description:e.description,event_typeID:e.event_typeID,location:e.location,archived:!1}),Je.getEvent_Types().then((function(t){t.map((function(t){return t.id===e.event_typeID&&C(t.event_type),null}))}))})),ot.getEventTickets(e.match.params.id).then((function(e){v(e)})),Ue.getArtists(e.match.params.id).then((function(e){return w(e)})),l(!0)}),1200)}),[e.match.params.id,e.user]);var x=Object(n.useState)(!1),T=Object(s.a)(x,2),D=T[0],_=T[1],N=Object(n.useState)(!1),P=Object(s.a)(N,2),R=P[0],B=P[1];return Object(n.useEffect)((function(){2!==e.user.roleID&&3!==e.user.roleID||tt.getContract(e.user.id,e.match.params.id).then((function(e){""!==e?(B(!0),_(null!==e.contract&&""!==e.contract)):(B(!1),_(!1))}))}),[e.user,e.match.params.id]),i?r.a.createElement("div",{style:{overflow:"hidden"}},r.a.createElement($.a,{className:t.card,elevation:0},r.a.createElement("img",{className:t.image,src:"https://harmoni-api.herokuapp.com/image/event/"+e.match.params.id,alt:"Event header"})),r.a.createElement(z.a,{container:!0,spacing:3},r.a.createElement(z.a,{item:!0,xs:12,sm:8,style:{height:"100%"}},r.a.createElement(S.a,null,r.a.createElement(g.a,{className:t.title,variant:"h2"},m.event_name),r.a.createElement(g.a,{variant:"h6",className:t.smallTitle},j),r.a.createElement(g.a,{className:t.description,variant:"subtitle1",gutterBottom:!0},m.description),r.a.createElement(g.a,{className:t.smallTitle,variant:"h6"},"Artists"),0!==y.length?r.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between",className:t.avatarIcons},y.map((function(e,t){return r.a.createElement(z.a,{item:!0},r.a.createElement(I.a,{style:{marginLeft:"auto",marginRight:"auto"},alt:e.username,src:e.picture}),r.a.createElement(g.a,null,e.username))}))):r.a.createElement(g.a,{className:t.smallText,variant:"body1"},"No Artists"),(3===e.user.roleID&&R||4===e.user.roleID)&&r.a.createElement("div",null,r.a.createElement(g.a,{className:t.smallTitle,variant:"h6"},"Personnel"),r.a.createElement(g.a,{className:t.description,variant:"subtitle1",gutterBottom:!0},m.personnel)),r.a.createElement(g.a,{className:t.smallTitle,variant:"h6"},"Tickets"),0!==h.length?r.a.createElement(me.a,{component:ve.a},r.a.createElement(ce.a,{className:t.table},r.a.createElement(de.a,null,r.a.createElement(fe.a,null,r.a.createElement(ue.a,null,"Ticket Name"),r.a.createElement(ue.a,{align:"right"},"Price"),r.a.createElement(ue.a,{align:"right"},"Quantity"),r.a.createElement(ue.a,{align:"right"},"Post Date"),r.a.createElement(ue.a,{align:"right"},"Removed Date"))),r.a.createElement(se.a,null,h.map((function(e,t){return r.a.createElement(fe.a,{key:t},r.a.createElement(ue.a,{component:"th",scope:"row"},e.ticket_name),r.a.createElement(ue.a,{align:"right"},e.price),r.a.createElement(ue.a,{align:"right"},e.ticket_amount),r.a.createElement(ue.a,{align:"right"},new Date(e.date_start).toDateString()),r.a.createElement(ue.a,{align:"right"},new Date(e.date_end).toDateString()))}))))):r.a.createElement(g.a,{className:t.smallText,variant:"body1"},"No Tickets"))),r.a.createElement(z.a,{item:!0,sm:3,xs:12,style:{margin:"10px"}},r.a.createElement(g.a,{className:t.smallTitle,variant:"h6",gutterBottom:!0},"Date & Time:"),r.a.createElement(g.a,{variant:"subtitle1",gutterBottom:!0},r.a.createElement("p",null,r.a.createElement("strong",null,"Event starts: "),m.event_start.toDateString().substring(0,10)+" "+m.event_start.toTimeString().substring(0,5)),r.a.createElement("p",null,r.a.createElement("strong",null,"Event ends: "),m.event_end.toDateString().substring(0,10)+" "+m.event_end.toTimeString().substring(0,5))),r.a.createElement(g.a,{className:t.smallTitle,variant:"h6",gutterBottom:!0},"Location:"),r.a.createElement(g.a,{variant:"subtitle1",gutterBottom:!0},m.location),r.a.createElement("div",{className:t.map},r.a.createElement("a",{href:"https://www.google.com/maps/place/".concat(m.location),target:"_blank",rel:"noopener noreferrer"},r.a.createElement(ca,{events:[m],center:m,zoom:11}))),r.a.createElement(z.a,{container:!0,spacing:1,justify:"center",alignItems:"center"},r.a.createElement(ya,{event:e.match.params.id,user:e.user.id,eventConnection:R,myContract:D}))))):r.a.createElement("div",{className:t.loadingIcon},r.a.createElement(wa.a,null))}var ja=a(283),Ca=a.n(ja),xa=(a(457),a(528)),Sa=a(529),Ta=Object(u.a)((function(e){return Object(m.a)({card:{position:"relative",maxWidth:"400px",maxHeight:"200px",backgroundColor:"#ffffff",margin:"12px",marginBottom:"12px"},customImage:{transition:"transform 0.2s","&:hover":{transform:"scale(1.05)"}},content:{fontSize:"20px",color:"black",alignItems:"rtl",backgroundColor:"white"},title:{color:"black",textAlign:"center"},chip:{position:"absolute",top:"70%",left:0,paddingTop:"5px",paddingLeft:"5px",paddingRight:"5px",paddingBottom:"3px",width:"auto",height:"auto",backgroundColor:"#ffffff",color:"black",borderTopRightRadius:"4px",fontSize:14}})}));function Ia(e){var t=Ta(),a=new Date(e.event.event_start);return r.a.createElement(H.c,{to:"/event/"+e.event.id,style:{textDecoration:"none",margin:"auto"}},r.a.createElement($.a,{className:t.card},r.a.createElement(xa.a,null,r.a.createElement(Sa.a,{className:t.customImage,component:"img",height:"160",image:"https://harmoni-api.herokuapp.com/image/event/"+e.event.id,title:e.event.event_name}),r.a.createElement("div",{className:t.chip},a.toDateString().substring(0,3)+" "+a.toDateString().substring(7,10)+". "+a.toDateString().substring(4,7)+" "),r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,spacing:6,direction:"row",justify:"space-evenly"},r.a.createElement("div",{style:{width:"100%",textAlign:"center"}},r.a.createElement("h2",{style:{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",marginLeft:"10%",marginRight:"10%"}},e.event.event_name)))))))}function Da(e){var t=Object(n.useState)(1),a=Object(s.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)(6),c=Object(s.a)(l,2),u=c[0],m=c[1];Object(n.useEffect)((function(){i(1)}),[]),Object(n.useEffect)((function(){e.setCenter(e.events[o])}),[o,e]);var d=function(e,t){var a=e%t;return Math.floor(a>=0?a:a+t)},p=function(t){var a=d(o+1,e.events.length);i(a),m(t)},f=function(t){var a=d(o-1,e.events.length);i(a),m(t)};return r.a.createElement(Ca.a,{swipeable:!0,draggable:!0,showDots:!1,responsive:{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}},infinite:!0,autoPlay:!1,autoPlaySpeed:2500,keyBoardControl:!0,transitionDuration:500,containerClass:"carousel-container",removeArrowOnDeviceType:["mobile"],dotListClass:"custom-dot-list-style",itemClass:"carousel-item-padding-40-px",centerMode:!0,afterChange:function(e,t){var a=t.currentSlide;void 0===u?7===a?p(a):5===a&&f(a):a===u-1?f(a):a===u+1?p(a):a>u?f(a):a<u&&p(a)}},e.events.map((function(e){return r.a.createElement(Ia,{key:e.id,event:e})})))}var _a=Object(u.a)({container:{height:"90vh",width:"100%",position:"relative"},carousel:{zIndex:1,position:"absolute",width:"100%",height:"20%",top:"80%",left:"0"}});function Na(){var e=_a(),t=Object(n.useState)({lat:63.4189,lng:10.4027}),a=Object(s.a)(t,2),o=a[0],i=a[1],l=Object(n.useState)([]),c=Object(s.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)([]),p=Object(s.a)(d,2),f=p[0],h=p[1];return Object(n.useEffect)((function(){Ue.getEvents().then((function(e){m(e)})),Ue.getEventCarousel().then((function(e){h(e),i(e[1])}))}),[]),r.a.createElement("div",{className:e.container},r.a.createElement(ca,{events:u,center:o,zoom:11}),r.a.createElement("div",{className:e.carousel},r.a.createElement(Da,{events:f,setCenter:i})))}var Pa=a(102),Ra=Object(u.a)((function(e){return Object(m.a)({title:{fontSize:"24px",padding:"20px"},root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"left",color:e.palette.text.secondary,width:"100%"},editPic:{fontSize:"12px","&:hover":{cursor:"pointer"}},button:{fontSize:"1.5vw",color:"black",borderColor:"black"},rowButton:{fontSize:"1.3vw",marginTop:"20px",marginLeft:"10px"},name:{fontSize:"2vw",fontWeight:"bold",marginBottom:"20px"},file:{marginLeft:"30px",fontSize:"1.5vw",marginTop:"10px"}})}));function Ba(e){var t=Ra(),a=Object(n.useState)(new File(["foo"],"")),o=Object(s.a)(a,2),i=o[0],l=o[1],c=Object(n.useState)(!1),u=Object(s.a)(c,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){""!==e.user.Contracts[0]&&null!==e.user.Contracts[0].contract&&""!==e.user.Contracts[0].contract&&d(!0)}),[m,e.user.Contracts]),r.a.createElement("div",null,r.a.createElement(Z,{key:e.index,style:{width:"80%",marginTop:"20px"}},r.a.createElement(ee.a,null,r.a.createElement(g.a,{className:t.name,variant:"h4",gutterBottom:!0},e.user.username),r.a.createElement(z.a,{container:!0,direction:"row",justify:"center"},r.a.createElement(ve.a,{className:t.paper},r.a.createElement(z.a,{container:!0,direction:"row"},r.a.createElement(ft,{className:t.button,variant:"outlined",component:"label"},"Choose File",r.a.createElement("input",{type:"file",accept:"application/pdf",style:{display:"none"},onChange:function(e){l(e.target.files[0])}})),r.a.createElement(g.a,{className:t.file},"Chosen file: ",i.name))),r.a.createElement(z.a,{container:!0,direction:"row",spacing:2},r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(ft,{className:t.rowButton,type:"submit",onClick:function(){e.uploadContract(e.user.id,i).then((function(){l(new File(["foo"],"")),window.location.reload()}))}},"Upload contract")),m&&r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(ft,{className:t.rowButton,onClick:function(){return window.open("https://harmoni-api.herokuapp.com/files/contract/user/"+e.user.id+"/event/"+e.eventId,"_blank")}},"View Contract")),r.a.createElement(z.a,{item:!0,xs:4},r.a.createElement(H.b,{to:"/contract/event/"+e.eventId,style:{textDecoration:"none"}},r.a.createElement(ft,{className:t.rowButton,onClick:function(){e.deleteContract(e.user.id,i),setTimeout((function(){window.location.reload(!1)}),1e3)}},"Delete Contract"))))))))}function Fa(e){var t=function(t,a){return Promise.resolve(Ke.postContracts(a,t,e.match.params.eventId))},a=function(t,a){return Promise.resolve(Ke.postContracts(a,t,e.match.params.eventId))},o=Object(n.useState)([]),i=Object(s.a)(o,2),l=i[0],c=i[1];return Object(n.useEffect)((function(){tt.getContractsByEvent(e.match.params.eventId).then((function(e){c(e)}))}),[e.match.params.eventId]),r.a.createElement("div",null,r.a.createElement(H.b,{to:"/profile",style:{textDecoration:"none"}},r.a.createElement(ft,null,"Back")),l.map((function(n,o){return r.a.createElement(Ba,{user:n,index:o,eventId:e.match.params.eventId,deleteContract:a,uploadContract:t})})))}var za=a(284),Ma=a(127),Aa=a(285),Wa=a(286);a(458),a(459),a(460);function La(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),o=a[0],i=a[1];Object(n.useEffect)((function(){var t=[];e.events.map((function(e){return t.push({id:e.id,title:e.event_name,start:new Date(e.event_start),end:new Date(e.event_end)}),null})),i(t)}),[e.events]);return r.a.createElement(ve.a,{elevation:0,style:{margin:"0 4px 4px 4px"}},r.a.createElement(za.a,{defaultView:"dayGridMonth",height:"auto",plugins:[Ma.d,Aa.a,Wa.a],weekends:!0,events:o,eventClick:function(e){window.location.hash="#/event/"+e.event._def.publicId},eventMouseEnter:function(){document.body.style.cursor="pointer"},eventMouseLeave:function(){document.body.style.cursor="default"},displayEventTime:!1}))}function Ua(e){var t=r.a.useState({columns:[{title:"Name",field:"title"},{title:"Start date",field:"startDate",type:"datetime"},{title:"End date",field:"endDate",type:"datetime"},{title:"Location",field:"location"}],data:[]}),a=Object(s.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){var t=[];e.events.map((function(e){var a,n,r,o,i;return t.push((a=e.id,n=e.event_name,r=new Date(e.event_start),o=new Date(e.event_end),i=e.location,{id:a,title:n,startDate:r,endDate:o,location:i})),null})),i((function(e){return Object(c.a)({},e,{data:t})}))}),[e.events]),r.a.createElement(Se.a,{onRowClick:function(e,t){window.location.hash="#/event/"+t.id},title:"Event List",columns:o.columns,data:o.data})}function qa(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)([]),l=Object(s.a)(i,2),c=l[0],u=l[1];function m(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}return Object(n.useEffect)((function(){Ue.getEventsUnarchived().then((function(e){u(e)}))}),[]),r.a.createElement(Z,null,r.a.createElement(Yt.a,{value:a,onChange:function(e,t){o(t)},indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Qt.a,Object.assign({label:"List"},m(0))),r.a.createElement(Qt.a,Object.assign({label:"Calendar"},m(1)))),0===a?r.a.createElement(Ua,{events:c}):r.a.createElement(La,{events:c}))}var Va=Object(u.a)({grid:{maxWidth:"450px",minWidth:"250px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginLeft:"auto",marginRight:"auto",marginBottom:"20px"},pos:{marginBottom:12},notchedOutline:{borderRadius:0}});function Ha(e){var t=Va(e),a=Object(it.useSnackbar)(),n=ht((function(){l.password&&l.password===l.passwordConfirmed&&(wt.changePasswordForgot({new_password:l.password,token:e.match.params.token}).catch((function(t){return console.log(e.match.params.token)})),a.showMessage("Password successfully reset"),window.location.hash="#/login")}),{password:"",passwordConfirmed:""},bt),o=n.handleChange,i=n.handleSubmit,l=n.values,c=n.errors;return r.a.createElement(Z,{width:"80%",style:{minWidth:"250px",maxWidth:"450px"}},r.a.createElement(z.a,{container:!0,className:t.grid},r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},r.a.createElement(g.a,{className:t.title,variant:"h3",align:"center"},"Change Password")),r.a.createElement("form",{onSubmit:i,noValidate:!0},c.password&&r.a.createElement(g.a,{color:"error"},c.password),r.a.createElement(dt,{name:"password",label:"Password",autoComplete:"current-password",value:l.password,onChange:o,type:"password"}),c.passwordConfirmed&&r.a.createElement(g.a,{color:"error"},c.passwordConfirmed),r.a.createElement(dt,{name:"passwordConfirmed",label:"Confirm password",autoComplete:"current-password",value:l.passwordConfirmed,onChange:o,type:"password"}),r.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(ft,{type:"submit"},"Confirm"))))))}var Ga=Object(u.a)({grid:{maxWidth:"450px",minWidth:"250px"},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{marginLeft:"auto",marginRight:"auto",marginBottom:"20px"},pos:{marginBottom:12},notchedOutline:{borderRadius:0}});function Xa(e){var t=Ga(e),a=ht((function(){/\S+@\S+\.\S+/.test(l.email)?(Vt.forgotMail(l.email).then((function(e){return e})),window.location.hash="#/login",p.showMessage("We will mail you a link to create a new password. Please check your mail","Ok",(function(){}))):d(!0)}),{email:""},Et),o=a.handleChange,i=a.handleSubmit,l=a.values,c=Object(n.useState)(!1),u=Object(s.a)(c,2),m=u[0],d=u[1],p=Object(it.useSnackbar)();return r.a.createElement(Z,{width:"80%",style:{minWidth:"250px",maxWidth:"450px"}},r.a.createElement(z.a,{container:!0,className:t.grid},r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,justify:"center",direction:"row"},r.a.createElement(g.a,{className:t.title,variant:"h3",align:"center"},"Reset Password")),r.a.createElement("form",{onSubmit:i,noValidate:!0},m&&r.a.createElement(g.a,{color:"error"},"Email address is invalid"),r.a.createElement(dt,{name:"email",label:"E-mail *",type:"text",autoComplete:"current-email",value:l.password,onChange:o}),r.a.createElement(z.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(ft,{onClick:function(){return window.location.hash="#/login"}},"Cancel"),r.a.createElement(ft,{type:"submit"},"Submit"))))))}var Ya=Object(u.a)((function(e){return Object(m.a)({formControl:{margin:e.spacing(1),minWidth:200,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)},root:{"& .MuiTextField-root":{margin:e.spacing(1),width:200}}})})),Qa={PaperProps:{style:{maxHeight:224,width:250}}};function Ka(e,t,a){return{fontWeight:-1===t.indexOf(e)?a.typography.fontWeightRegular:a.typography.fontWeightMedium}}function $a(e){var t=Ya(),a=Object(p.a)(),o=[],i=Object(it.useSnackbar)(),l=Object(n.useState)([]),c=Object(s.a)(l,2),u=c[0],m=c[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),h=f[0],v=f[1],E=Object(n.useState)([]),b=Object(s.a)(E,2),y=b[0],w=b[1],k=Object(n.useState)([]),O=Object(s.a)(k,2),j=O[0],C=O[1];Object(n.useEffect)((function(){Xe.getRider_Types().then((function(t){w(t),nt.getRidersForArtist(e.match.params.eventID,e.match.params.userID).then((function(e){C(e),e.map((function(e){if(1===e.rider_typeID)v(e.additions);else{var a=t.find((function(t){return t.id===e.rider_typeID}));void 0!==a&&o.push(a.description)}return null})),m(o)}))}))}),[]);return r.a.createElement(Z,{style:{width:"80%",minHeight:"200px",maxHeight:"500px",marginTop:"100px",marginBottom:"20px"}},r.a.createElement(ee.a,null,r.a.createElement(z.a,{container:!0,spacing:2,direction:"row"},r.a.createElement(z.a,{item:!0,xs:12,md:3,style:{margin:"5px"}},r.a.createElement(g.a,{variant:"h6",gutterBottom:!0},e.artistName)),r.a.createElement(z.a,{item:!0,xs:12,md:4},r.a.createElement(_e.a,{className:t.formControl},r.a.createElement(De.a,{id:"demo-mutiple-chip-label"},"Riders"),r.a.createElement(Ne.a,{labelId:"demo-mutiple-chip-label",id:"demo-mutiple-chip",multiple:!0,value:u,onChange:function(t){m(t.target.value);var a=j.filter((function(e){return 1===e.rider_typeID}));t.target.value.map((function(t){var n=y.find((function(e){return e.description===t}));if(void 0!==n){var r=n.id;a.push({additions:"",rider_typeID:r,eventID:parseInt(e.match.params.eventID),userID:parseInt(e.match.params.userID)})}return null})),C(a)},input:r.a.createElement(Ie.a,{id:"select-multiple-chip"}),renderValue:function(e){return r.a.createElement("div",{className:t.chips},e.map((function(e,a){return r.a.createElement(Pe.a,{key:a,label:e,className:t.chip})})))},MenuProps:Qa},y.map((function(e,t){return r.a.createElement(_.a,{key:t,value:e.description,style:Ka(e.description,u,a)},e.description)}))))),r.a.createElement(z.a,{item:!0,xs:12,md:4},r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(te.a,{id:"standard-multiline-flexible",label:"Additions",multiline:!0,rowsMax:"4",value:h,onChange:function(t){v(t.target.value);var a=j.filter((function(e){return 1!==e.rider_typeID}));a.push({eventID:parseInt(e.match.params.eventID),rider_typeID:1,userID:parseInt(e.match.params.userID),additions:t.target.value}),C(a)}})))),r.a.createElement(z.a,{container:!0,direction:"row",justify:"center",style:{marginTop:"40px"}},r.a.createElement(z.a,{item:!0,xs:6,md:3},r.a.createElement(T.a,{variant:"contained",color:"secondary",onClick:function(){nt.deleteRidersForArtist(e.match.params.eventID,e.match.params.userID).then((function(){j.map((function(e){return nt.postRider(e)})),i.showMessage("Successfully updated riders"),setTimeout((function(){window.location.hash="#/event/"+e.match.params.eventID}),400)}))},style:{fontSize:"1.1vw"}},"Save")),r.a.createElement(z.a,{item:!0,xs:6,md:3},r.a.createElement(T.a,{variant:"contained",color:"secondary",onClick:function(){window.location.hash="#/event/"+e.match.params.eventID},style:{fontSize:"1.1vw"}},"Cancel")))))}var Ja=a(44).default,Za=new(function(){function e(){Object(Ae.a)(this,e)}return Object(We.a)(e,[{key:"getRoles",value:function(){return Ja.get("https://harmoni-api.herokuapp.com/role",{headers:{token:V("token")}}).then((function(e){return e.data}))}},{key:"getRole",value:function(e){return Ja.get("https://harmoni-api.herokuapp.com/role/"+e,{headers:{token:V("token")}}).then((function(e){return e.data}))}}]),e}()),en=document.getElementById("root");en&&i.a.render(r.a.createElement((function(){var e=r.a.useState(V("token")),t=Object(s.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)(0),u=Object(s.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)({id:0,roleID:0,username:"",email:"",phone:"",role:"",pic_url:""}),f=Object(s.a)(p,2),h=f[0],v=f[1];Object(n.useEffect)((function(){o(V("token")),V("token")?He.getOneUser().then((function(e){Za.getRole(e.roleID).then((function(t){v({id:e.id,roleID:e.roleID,username:e.username,email:e.email,phone:e.phone,role:t.role_name,pic_url:"https://harmoni-api.herokuapp.com/image/profile/"+e.id})}))})):v({id:0,roleID:0,username:"",email:"",phone:"",role:"",pic_url:""})}),[a]);var g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v(""===t?e:Object(c.a)({},h,Object(l.a)({},t,e)))};return r.a.createElement(it.SnackbarProvider,{SnackbarProps:{autoHideDuration:4e3}},r.a.createElement(H.a,null,r.a.createElement(X,{user:h,logFunc:o,loggedIn:a,setPage:d}),r.a.createElement(Pa.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(Na,e)}}),r.a.createElement("div",{style:{marginTop:"70px"}},r.a.createElement(Pa.a,{exact:!0,path:"/event/:id",render:function(e){return r.a.createElement(Oa,Object.assign({},e,{user:h}))}}),r.a.createElement(Pa.a,{exact:!0,path:"/addEvent",render:function(e){return r.a.createElement(ct,Object.assign({},e,{edit:!1}))}}),r.a.createElement(Pa.a,{exact:!0,path:"/editEvent/:id",render:function(e){return r.a.createElement(ct,Object.assign({},e,{edit:!0}))}}),r.a.createElement(Pa.a,{exact:!0,path:"/signUp",render:function(e){return r.a.createElement(xt,e)}}),r.a.createElement(Pa.a,{exact:!0,path:"/login",render:function(e){return r.a.createElement(Nt,Object.assign({},e,{logFunc:o}))}}),r.a.createElement(Pa.a,{exact:!0,path:"/profile",render:function(e){return r.a.createElement(ea,Object.assign({},e,{user:h,handleUserChange:g,setPage:d,page:m}))}}),r.a.createElement(Pa.a,{exact:!0,path:"/contract/event/:eventId",render:function(e){return r.a.createElement(Fa,Object.assign({},e,{logFunc:o}))}}),r.a.createElement(Pa.a,{exact:!0,path:"/event",render:function(e){return r.a.createElement(qa,e)}}),r.a.createElement(Pa.a,{exact:!0,path:"/forgotpassword/:token",render:function(e){return r.a.createElement(Ha,e)}}),r.a.createElement(Pa.a,{exact:!0,path:"/forgot",render:function(e){return r.a.createElement(Xa,e)}}),r.a.createElement(Pa.a,{exact:!0,path:"/artist/editRider/:eventID/user/:userID",render:function(e){return r.a.createElement($a,e)}})),r.a.createElement(Xt,null)))}),null),en)}},[[305,1,2]]]);
//# sourceMappingURL=main.8842c37a.chunk.js.map